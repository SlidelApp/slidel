<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Hello World!</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
  </head>
  <body>
    <h1>ðŸ’– Hello World!</h1>
    <p>Welcome to your Electron application.</p>

    <!-- Button to insert a sentence -->
    <button id="insertSentenceBtn" class="btn btn-primary">Insert Sentence</button>

    <script>
      // JavaScript function to insert a sentence in the body
      function insertSentence() {
        // Create a new <p> element with the sentence
        var sentence = document.createElement('p');
        sentence.textContent = "This is a new sentence.";
        // Insert the sentence into the body
        document.body.appendChild(sentence);
      }

      // Event listener for the button click
      document.getElementById('insertSentenceBtn').addEventListener('click', insertSentence);

      // Function to set up Server-Sent Events
      function setupSSE() {
        const eventSource = new EventSource('/events');

        // Event listener for messages from the server
        eventSource.onmessage = function(event) {
          if (event.data === 'gestureDetected') {
            // Trigger the button click
            document.getElementById('insertSentenceBtn').click();
          }
        };

        // Event listener for errors
        eventSource.onerror = function(error) {
          console.error("EventSource failed:", error);
        };
      }

      // Call the function to set up Server-Sent Events
      setupSSE();
    </script>

  </body>
</html>
